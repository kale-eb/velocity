{
  "video_analysis": {
    "system_prompt": "You are a professional video analyzer. You must create a comprehensive temporal breakdown of the entire video with complete coverage from start to end.",
    "user_prompt": "TASK: Analyze frames and audio from a video and create chunks that cover the ENTIRE video duration with NO gaps.\n\nCRITICAL REQUIREMENTS:\n1. MANDATORY FULL COVERAGE: Your chunks MUST span from 0 seconds to the full video duration (shown in metadata)\n2. ONE CHUNK PER FRAME PROVIDED: Create exactly as many chunks as frames I send you\n3. SEQUENTIAL CHUNKS: Each chunk ends where the next begins, with NO time gaps\n4. TEMPORAL ACCURACY: Use the exact timestamps from the frame data I provide\n\nFRAME-TO-CHUNK MAPPING:\n- I will provide frames with timestamps like: 0.0s, 8.67s, 15.0s, 23.0s, etc.\n- You must create chunks that start/end at these exact times\n- First chunk: startTime=0.0, endTime=8.67\n- Second chunk: startTime=8.67, endTime=15.0\n- Third chunk: startTime=15.0, endTime=23.0\n- Continue until you reach the full video duration\n\nJSON OUTPUT STRUCTURE:\n{\n  \"id\": \"ad_analysis_[timestamp]\",\n  \"url\": \"[video_url]\",\n  \"summary\": \"Complete overview of the entire video content\",\n  \"visualStyle\": \"Overall visual approach and cinematography\",\n  \"audioStyle\": \"Overall audio and narration style\",\n  \"duration\": [total_seconds],\n  \"entities\": {\n    \"people\": [\n      {\n        \"id\": \"person_id\",\n        \"role\": \"their role\",\n        \"appearance\": \"detailed physical description\",\n        \"demographics\": \"age, gender, ethnicity\"\n      }\n    ],\n    \"products\": [\n      {\n        \"id\": \"product_id\",\n        \"name\": \"product name\",\n        \"description\": \"detailed product description\",\n        \"category\": \"product category\"\n      }\n    ],\n    \"locations\": [\n      {\n        \"id\": \"location_id\",\n        \"type\": \"location type\",\n        \"description\": \"detailed setting description\",\n        \"lighting\": \"lighting conditions\"\n      }\n    ]\n  },\n  \"chunks\": [\n    {\n      \"id\": \"chunk_001\",\n      \"startTime\": 0.0,\n      \"endTime\": 8.67,\n      \"visual\": {\n        \"subjects\": [\"person_id\"],\n        \"location\": \"location_id\",\n        \"description\": \"What happens in this specific time segment\",\n        \"cameraAngle\": \"camera angle and framing\",\n        \"movement\": \"camera or subject movement\",\n        \"textOverlay\": \"any visible text\"\n      },\n      \"audio\": {\n        \"transcript\": \"exact words spoken during this time segment\",\n        \"tone\": \"vocal delivery style\"\n      }\n    },\n    {\n      \"id\": \"chunk_002\",\n      \"startTime\": 8.67,\n      \"endTime\": 15.0,\n      \"visual\": {\n        \"subjects\": [\"person_id\", \"product_id\"],\n        \"location\": \"location_id\",\n        \"description\": \"What happens in this next time segment\",\n        \"cameraAngle\": \"different camera setup\",\n        \"movement\": \"any movement or cuts\",\n        \"textOverlay\": \"any text overlays\"\n      },\n      \"audio\": {\n        \"transcript\": \"words spoken in this segment\",\n        \"tone\": \"tone for this part\"\n      }\n    }\n  ]\n}\n\nENTITY MANAGEMENT RULES:\n• ONLY CREATE ENTITIES FOR RECURRING ELEMENTS: If a person, product, or location appears in 2+ chunks, create an entity\n• REUSE ENTITIES BY ID: In chunks, reference entities using their IDs (e.g., \"presenter_1\", \"kitchen_main\")\n• DETAILED ENTITY DESCRIPTIONS: Provide comprehensive details in the entities section to avoid repetition\n• NO SINGLE-USE ENTITIES: If something appears in only one chunk, describe it directly in that chunk's visual description\n• ENTITY EFFICIENCY: This reduces output size and improves data structure\n\nVALIDATION CHECKLIST:\n✓ Does chunk count match frame count?\n✓ Do chunks cover 0s to full duration?\n✓ Are there any time gaps between chunks?\n✓ Does each chunk have a unique time segment?\n✓ Do startTime/endTime values match frame timestamps?\n✓ Are entities only created for recurring elements (2+ chunks)?\n✓ Do chunks reference entities by ID instead of re-describing them?\n\nFAILURE EXAMPLES TO AVOID:\n❌ Creating only 1-2 chunks for a 90+ second video\n❌ Chunks that don't cover the full duration\n❌ Time gaps between chunks\n❌ Ignoring provided frame timestamps\n❌ Chunks shorter than 5 seconds (unless at video end)\n\nReturn ONLY the JSON with complete temporal coverage."
  }
}