{
  "tool_registry": {
    "get_available_references": {
      "description": "Get list of available content references (product specs, ads, instructions)",
      "display_name": "Checking available content",
      "category": "workspace",
      "apis": ["responses", "streaming"],
      "schema": {
        "type": "object",
        "properties": {
          "types": {
            "type": "array",
            "items": { "type": "string", "enum": ["productSpec", "ad", "instructions"] },
            "description": "Filter by reference types (optional)"
          }
        }
      },
      "execution": "workspace_content_handler"
    },
    
    "read_reference": {
      "description": "Read specific content reference by ID",
      "display_name": "Reading content reference",
      "category": "workspace", 
      "apis": ["responses"],
      "schema": {
        "type": "object",
        "properties": {
          "reference_id": {
            "type": "string",
            "description": "ID of the reference to read"
          }
        },
        "required": ["reference_id"]
      },
      "execution": "workspace_content_handler"
    },
    
    "get_workspace_content": {
      "description": "Access content from workspace nodes (product specs, ads, instructions)",
      "display_name": "Reading workspace content",
      "category": "workspace",
      "apis": ["streaming"],
      "schema": {
        "type": "object",
        "properties": {
          "node_types": {
            "type": "array",
            "items": { "type": "string", "enum": ["productSpec", "ad", "instructions"] },
            "description": "Types of nodes to retrieve content from"
          }
        },
        "required": ["node_types"]
      },
      "execution": "workspace_content_handler"
    },
    
    "get_current_script": {
      "description": "Get the current script chunks and metadata",
      "display_name": "Analyzing current script",
      "category": "script",
      "apis": ["responses"],
      "schema": {
        "type": "object",
        "properties": {},
        "required": []
      },
      "execution": "script_handler"
    },
    
    "get_script_content": {
      "description": "Read the current script chunks and their content", 
      "display_name": "Analyzing current script",
      "category": "script",
      "apis": ["streaming"],
      "schema": {
        "type": "object",
        "properties": {},
        "required": []
      },
      "execution": "script_handler"
    },
    
    "suggest_script_changes": {
      "description": "ONLY suggest changes to the script - does NOT apply them. User must approve suggestions before changes are made. Call this tool with exact parameters: explanation (string) and actions (array of action objects). Do NOT stream JSON in text - use the tool function call.",
      "display_name": "Preparing script suggestions",
      "category": "script",
      "apis": ["responses", "streaming"],
      "schema": {
        "type": "object",
        "properties": {
          "explanation": {
            "type": "string",
            "description": "Clear explanation of why these proposed changes would improve the script"
          },
          "actions": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "type": { "type": "string", "enum": ["rewrite", "add", "remove", "move"] },
                "targetId": { "type": "string" },
                "script_text": { "type": "string" },
                "camera_instruction": { "type": "string" },
                "position": { "type": "string", "enum": ["before", "after"] },
                "chunk": { "type": "object" }
              },
              "required": ["type", "targetId"]
            }
          }
        },
        "required": ["explanation", "actions"]
      },
      "execution": "script_suggestions_handler"
    },
    
    "get_script_editing_context": {
      "description": "Load contextual information about how the script system works",
      "display_name": "Loading script system context",
      "category": "script",
      "apis": ["responses", "streaming"],
      "schema": {
        "type": "object",
        "properties": {}
      },
      "execution": "script_context_handler"
    },
    
    "discover_capabilities": {
      "description": "Discover what tools and instruction modules are available for different tasks",
      "display_name": "Discovering capabilities",
      "category": "core",
      "apis": ["responses", "streaming"],
      "schema": {
        "type": "object",
        "properties": {
          "task_category": {
            "type": "string",
            "description": "Optional: filter capabilities by task type",
            "enum": ["workspace", "script", "instructions", "all"]
          }
        }
      },
      "execution": "discovery_handler"
    }
  },
  
  "tool_categories": {
    "core": {
      "description": "Always available core tools",
      "auto_load": true
    },
    "workspace": {
      "description": "Tools for accessing workspace content",
      "auto_load_triggers": ["workspace mentioned", "content referenced", "references selected"]
    },
    "script": {
      "description": "Tools for script analysis, editing, and rules", 
      "auto_load_triggers": ["script mentioned", "editing requested", "analysis needed", "changes requested"]
    }
  },
  
  "execution_handlers": {
    "workspace_content_handler": "handles all workspace content access operations",
    "script_handler": "handles script reading and analysis operations", 
    "script_suggestions_handler": "handles script modification suggestions",
    "script_context_handler": "loads script system context and information",
    "discovery_handler": "handles tool and capability discovery"
  }
}